{%extends "base.html"%}
{%block title%}Classes{%endblock%}
{%block content%}
<!-- Classes Start -->
<div class="container-fluid bg-white p-0">
    <div class="container-fluid">
        <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
            <h1 class="mb-3">School Classes</h1>
            <p>Eirmod sed ipsum dolor sit rebum labore magna erat. Tempor ut dolore lorem kasd vero ipsum sit eirmod sit. Ipsum diam justo sed rebum vero dolor duo.</p>
        </div>
        <div class="row g-4">
    {% for product in products %}
        <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
            <div class="classes-item">
                <div class="bg-light rounded-circle w-75 mx-auto p-3">
                    <img class="img-fluid rounded-circle" src="{{ url_for('static', filename=product.image) }}" alt="">
                </div>
                <div class="bg-light rounded p-4 pt-5 mt-n5">
                    <div class="d-block text-center h3 mt-3 mb-4">{{ product.name }}</div>
                    <form id="add-to-cart-form-{{ product.id }}" data-product-id="{{ product.id }}" method="post">
                        <script>
                            document.getElementById('add-to-cart-form-{{ product.id }}').addEventListener('submit', function(event) {
                                event.preventDefault();
                            
                                var productId = this.dataset.productId;
                            
                                fetch('/api/add_to_cart/' + productId, {
                                    method: 'POST',
                                    headers: {
                                        'Content-Type': 'application/json',
                                        // Include any other headers your API requires, like an authentication token
                                    },
                                })
                                .then(response => response.json())
                                .then(data => {
                                    if (data.status === 'success') {
                                        // Update the page to reflect the new item in the cart
                                        alert('Item added to cart successfully');
                                    } else {
                                        // Handle the error
                                        alert('Error: ' + data.message);
                                    }
                                });
                            });
                            </script>
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary">Buy</button>
                        </div>
                    </form>
                    <div class="d-flex align-items-center justify-content-between mb-4">
                        <div class="d-flex align-items-center">
                            <img class="rounded-circle flex-shrink-0" src="{{ url_for('static', filename=product.timage) }}" alt="" style="width: 45px; height: 45px;">
                            <div class="ms-3">
                                <h6 class="text-primary mb-1">{{ product.tname }}</h6>
                                <small>Teacher</small>
                            </div>
                        </div>
                        <span class="bg-primary text-white rounded-pill py-2 px-3" href="">{{ product.price }} $</span>
                    </div>
                    <div class="row g-1">
                        <div class="col-4">
                            <div class="border-top border-3 border-primary pt-2">
                                <h6 class="text-primary mb-1">Age:</h6>
                                <small>{{ product.age }}</small>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="border-top border-3 border-success pt-2">
                                <h6 class="text-success mb-1">Time:</h6>
                                <small>{{ product.time }}</small>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="border-top border-3 border-warning pt-2">
                                <h6 class="text-warning mb-1">Capacity:</h6>
                                <small>{{ product.capacity }}</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}
</div>
    </div>
</div>
<!-- Classes End -->


<!-- Appointment Start -->
<div class="container-fluid py-5">
    <div class="container-fluid">
        <div class="bg-light rounded">
            <div class="row g-0">
                <div class="col-lg-6 wow fadeIn" data-wow-delay="0.1s">
                    <div class="h-100 d-flex flex-column justify-content-center p-5">
                        <h1 class="mb-4">Make Appointment</h1>
                        <form method="POST" action="{{ url_for('app.appointment') }}">
                            {{form.hidden_tag()}}
                            <div class="row g-3">
                                <div class="col-sm-6">
                                    <div class="form-floating">
                                        <input type="text" class="form-control border-0" id="guardian_name" name="guardian_name" placeholder="Guardian Name">
                                        <label for="guardian_name">Guardian Name</label>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-floating">
                                        <input type="email" class="form-control border-0" id="guardian_email" name="guardian_email" placeholder="Guardian Email">
                                        <label for="guardian_email">Guardian Email</label>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-floating">
                                        <input type="text" class="form-control border-0" id="child_name" name="child_name" placeholder="Child Name">
                                        <label for="child_name">Child Name</label>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-floating">
                                        <input type="number" class="form-control border-0" id="child_age" name="child_age" placeholder="Child Age">
                                        <label for="child_age">Child Age</label>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="form-floating">
                                        <textarea class="form-control border-0" placeholder="Leave a message here" id="message" name="message" style="height: 100px"></textarea>
                                        <label for="message">Message</label>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <button class="btn btn-primary w-100 py-3" type="submit">Submit</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-lg-6 wow fadeIn" data-wow-delay="0.5s" style="min-height: 400px;">
                    <div class="position-relative h-100">
                        <img class="position-absolute w-100 h-100 rounded" src="{{ url_for('static', filename='img/appointment.jpg') }}" style="object-fit: cover;">                </div>
            </div>
        </div>
    </div>
</div>
<!-- Appointment End -->


<!-- Testimonial Start -->
<div class="owl-carousel testimonial-carousel wow fadeInUp" data-wow-delay="0.1s">
    {% for testimonial in testimonials %}
        <div class="testimonial-item bg-light rounded p-5">
            <p class="fs-5">{{ testimonial.message }}</p>
            <div class="d-flex align-items-center bg-white me-n5" style="border-radius: 50px 0 0 50px;">
                <img class="img-fluid flex-shrink-0 rounded-circle" src="{{ url_for('static', filename=testimonial.image) }}" style="width: 90px; height: 90px;">
                <div class="ps-3">
                    <h3 class="mb-1">{{ testimonial.name }}</h3>
                    <span>{{ testimonial.profession }}</span>
                </div>
                <i class="fa fa-quote-right fa-3x text-primary ms-auto d-none d-sm-flex"></i>
            </div>
        </div>
    {% endfor %}
</div>

<!-- Testimonial End -->
{%endblock%}